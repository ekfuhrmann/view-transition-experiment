---
import Layout from "../../layouts/Layout.astro";

const boxes = ["red", "green", "blue", "purple"];
---

<!-- purgecss after:bg-red-500 after:bg-green-500 after:bg-blue-500 after:bg-purple-500 -->
<Layout title="View Transitions Boxes">
  <main class="flex min-h-screen-nav items-center justify-center">
    <ul class="mx-auto grid w-full max-w-xs grid-cols-2 gap-16">
      {
        boxes.map((box) => (
          <li>
            <a
              class={`relative block aspect-square w-fit transition-all duration-500 bg-${box}-500`}
              href={`boxes/${box}`}
              style={`view-transition-name:${box}`}
            >
              <p class="sr-only">{box}</p>
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
<style is:global>
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none;
    mix-blend-mode: normal;
    display: block;
  }
</style>
